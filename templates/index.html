<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="Description" content="They Think It's All Clover"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
<link rel="stylesheet" href="../static/style.css">
<title>They Think It's All Clover</title>
</head>
<body>
<!--Modal On Load-->
<script>
    $(document).ready(function(){
        $("#myModal").modal('show');
    });
</script>
<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title">Welcome To #theyThinkItsAllClover</h1>
            </div>
            <div class="modal-body">
                <h3>Connecting People This St.Patricks Day!</h3>
                <h5>@TogetherApart</h5>
                <p>
                    To Take Part Simply Tweet Using The Hashtag <strong>#theyThinkItsAllClover</strong><br>
                    Please Remember To Have Your Location Settings On, So We Can Add You Automatically To The<br>
                    St.Patricks Day Tweet Map!
                </p>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/J680_aKF5zc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="row modalButton">
                    <button type="button" class="btn box btn-block" data-dismiss="modal">Join The Craic!</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--END MODAL-->

    <header class="row" id="header">
        <div class="col-sm-12" id="hero-image"></div>
    </header>
    <!-- Main Body -->
    <main class="container-fluid">
        <!-- Text Box and Tweet Board -->
        <div class="row">
            <!-- Text box -->
            <div class="col-sm-12 col-lg-6 text-box outer-box">
                <h1 class="title">Paddy's Day Tweets</h1>
                <div class="inner-box">
                    <h1 class="hashtag">#TheyThinkItsAllClover</h1>
                    <div class="row">
                        <div class="col-6 text-sub-box">
                            <h2 class="tweet-count">{{count}}</h2>
                            <p class="tweet-count-subtitle">Total Tweets</p>
                        </div>
                        <div class="col-6 text-sub-box">
                            <h3 class="prompt">Join in!</h3>
                            <a href="https://twitter.com" target="_blank" class="tweet-button"><?xml version="1.0" encoding="UTF-8"?>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="twitter-icon">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                                </svg>Tweet</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Tweet Box -->
            <div class="col-sm-12 col-lg-6 tweet-box outer-box">
                <h2 class="title">Tweet Board</h2>
                <div class="tweet-board overflow-auto">
                    {% for tweet in tweets %}
                <div class="userCard col-sm-12">
                    <div class="userPics">
                        <img src="{{tweet.avatar}}" alt="User Picture">
                    </div>
                    <div class="details">
                        <h6><a href="{{tweet.url}}" target="_blank">{{tweet.username}}</a></h6>
                        {% set lat = tweet.location[0] %}
                        {% set long = tweet.location[1] %}
                        <h4>{{tweet.content}}</h4>
                        <div id="coordinates">
                            {% for i in range(count|int) %}
                            <div>
                                <input class="lat hidden" type="number" value="{{long}}">
                                <input class="long hidden" type="number" value="{{lat}}">
                                <input class="pic hidden" type="text" value="{{tweet.avatar}}">
                                <input class="tweet hidden" type="text" value="{{tweet.content}}">
                                <input class="name hidden" type="text" value="{{tweet.username}}">
                            </div>
                            {%endfor%}
                        </div>
                        <hr>
                        <p>
                            <strong>Posted:</strong><em> {{tweet.time_posted}}</em>
                        </p>
                    </div>
                </div>
            {%endfor%}
                </div>
            </div>
        </div>
        <!-- Map Box -->
        <div class="row">
            <div class="col-sm-12 map-box outer-box">
                <h2 class="title">Tweet Map</h2>
                <div id="map">
    
            </div>
            </div>
        </div>
    </main>

    <footer>
        {{stream}}
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
  integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
  crossorigin=""></script>

    <script src="../static/script.js"></script>
</body>
</html>